<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Men Product Page</title>
        <link rel="stylesheet" href="../../assets/css/men.css">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>

    <body>

        <div class="nav-container">
            <div class="nav-links">
                <ul>
                    <li>
                        <a href="../../index.html">Home</a>
                    </li>

                    <div class="dropdown">
                        <li>
                            <a href="../product categories/men.html">Men</a> 
                        </li>
                    </div>
                    <div class="dropdown">
                        <li>
                            <a href="../product categories/women.html">Women</a> 
                        </li>
                    </div>
                    <div class="dropdown">
                        <li>
                            <a href="../product categories/kids.html">Kids</a> 
                        </li>
                    </div>

                    <li>
                        <a href="../homepage/about.html">About Us</a> 
                    </li>
                    <li>
                        <a href="../homepage/contact.html">Contact</a>
                    </li>
                </ul>

            </div>

        </div>
        <p class="menswear">WOMEN"S FASHION</p>
        <div class="mens-coverimage-container">
            <div class="mens-coverimage">
                <img src="../../assets/images/women cover.webp" width="1350px" alt="">
            </div>

        </div>
        <section class="menpage-container">
            <div class="filter-container">
                <h4 class="brand">BRAND</h4>
                <div class="border-1"></div>
                <input type="search" name="search" id="" placeholder="search brand">
                <p>
                    <input type="checkbox" name="" id="">
                    <span for="">Wolver</label></p>
                        <p>
                            <input type="checkbox" name="" id="">
                            <span for="">ADIDAS</label></p>
                                <p>
                                    <input type="checkbox" name="" id="">
                                    <span for="">PUMA</label></p>
                                        <p>
                                            <input type="checkbox" name="" id="">
                                            <span for="">BLACKNIGHT</label></p>
                                                <p>
                                                    <input type="checkbox" name="" id="">
                                                    <span for="">Chheent</label></p>
                                                        <p>
                                                            <input type="checkbox" name="" id="">
                                                            <span for="">UNIQUELLO</label></p>
                                                                <div class="border-1"></div>
                                                                <h4 class="brand">CAUSTOMER RATING</h4>
                                                                <p>
                                                                    <input type="checkbox" name="" id="">
                                                                    <span for="">4&#9733&above</label></p>
                                                                        <p>
                                                                            <input type="checkbox" name="" id="">
                                                                            <span for="">3&#9733&above</label></p>
                                                                                <div class="border-1"></div>

                                                                                <p>
                                                                                    <input type="checkbox" name="" id="">
                                                                                    <span for="">BUY MORE</label></p>
                                                                                        <p>
                                                                                            <input type="checkbox" name="" id="">
                                                                                            <span for="">SPECIAL OFFERS</label></p>
                                                                                                <p>
                                                                                                    <input type="checkbox" name="" id="">
                                                                                                    <span for="">NO CAST EMI</label></p>
                                                                                                        <h4 class="brand">COLOR</h4>

                                                                                                        <p>
                                                                                                            <input type="color" value="#ff0000" name="" id="">
                                                                                                            <span class="color" for="">RED</label></p>
                                                                                                                <p>
                                                                                                                    <input type="color" value="#0000ff" name="" id="">
                                                                                                                    <span class="color" for="">DARK BLUE</label></p>
                                                                                                                        <p>
                                                                                                                            <input type="color" value="#ffff00" name="" id="">
                                                                                                                            <span class="color" for="">YELLOW</label></p>
                                                                                                                                <p>
                                                                                                                                    <input type="color" value="#ff00ff" name="" id="">
                                                                                                                                    <span class="color" for="">PINK</label></p>
                                                                                                                                        <p>
                                                                                                                                            <input type="color" value="#800080" name="" id="">
                                                                                                                                            <span class="color" for="">PURPLE</label></p>
                                                                                                                                                <p>
                                                                                                                                                    <input type="color" value="#add8e6" name="" id="">
                                                                                                                                                    <span class="color" for="">LITE BLUE</label></p>
        </div>
                                                                                                                                                        <section class="product-container">
                                                                                                                                                            
                                                                                                                                                        </section>

    </section>
    <script>




const product_details =
  JSON.parse(localStorage.getItem("product_details")) || [];
  const fil = product_details.filter((e)=>e.type ==="Women")

for (let j = 0; j < fil.length; j++) {
  // let card_container1 = document.createElement("div");
  // card_container1.setAttribute("class", "card-container");

  const div_card0 = document.createElement("div");
  div_card0.setAttribute("class", "card");
  // card_container1.append(div_card0);

  const div_card1 = document.createElement("div");
  div_card1.setAttribute("class", "card-content");
  div_card0.append(div_card1);

  const img = document.createElement("img");
  img.setAttribute("src", fil[j].image1);
  img.setAttribute("alt", "shirt");
  img.setAttribute("width", "260px");
  img.setAttribute("height", "350px");
  div_card1.append(img);

  const div_card2 = document.createElement("div");
  div_card2.setAttribute("class", "card-title");
  div_card1.append(div_card2);

//   const h3 = document.createElement("h3");
//   h3.setAttribute("class", "product-name");
//   h3.innerText = fil[j].name;
//   div_card2.append(h3);

  const div_card3 = document.createElement("div");
  div_card3.setAttribute("class", "card-details");
  div_card0.append(div_card3);

  // const i = document.createElement("i");
  // i.setAttribute("class", "fa fa-heart-o");
  // div_card3.append(i);

  const div_card4 = document.createElement("button");
  div_card4.setAttribute("class", "like");
  div_card4.setAttribute("data-id", fil[j].unique_id );
  div_card4.innerText = "Wish"
  div_card3.append(div_card4);

  const h3 = document.createElement("h3");
  h3.setAttribute("class", "product-name");
  h3.innerText = fil[j].name;
  div_card3.append(h3);

  const p = document.createElement("p");
  p.innerText = fil[j].description;
  div_card3.append(p);

  const h1 = document.createElement("h1");
  h1.innerText ='₹'+ fil[j].current_price;
  div_card3.append(h1);

 

  const a = document.createElement("a");
  a.setAttribute(
    "href",
    `../products details/product.html?product_uniqueId=${fil[j].unique_id}`
  );
  div_card3.append(a);

  const btn = document.createElement("button");
  btn.setAttribute("class", "buy");
  btn.innerText = "Buy";
  a.append(btn);

  // const btn1 = document.createElement("button");
  // btn1.setAttribute("class", "cart");
  // btn1.innerText = "Cart";
  // div_card3.append(btn1);

  const productContainer = document.querySelector(".product-container");
  productContainer.append(div_card0);
}

const like_btn = document.querySelectorAll(".like");
console.log(like_btn);


like_btn.forEach((e)=> {
  // console.log(findId)
      e.addEventListener("click", (el)=>{
        const get_id = el.target.dataset.id
        // console.log(get_id);
        localStorage.setItem("wish_id", JSON.stringify(get_id));



        let user_details = JSON.parse(localStorage.getItem("user_list"));
        let user_id = JSON.parse(localStorage.getItem("userId"));

        const users =
        user_details.length &&
            JSON.parse(localStorage.getItem("user_list")).some(
              (data) => data.user_email === user_id
        );
        console.log(users)
        if(!users){
              alert("You are unknown person");
        }
        else{
          const wish_uniqueid = JSON.parse(localStorage.getItem("wish_id"));
          const product_list = JSON.parse(localStorage.getItem("product_details"));
          const products = product_list.find((e) => e.unique_id === wish_uniqueid);
          const wish_products = JSON.parse(localStorage.getItem("wish_details")) || [];

          const already_wishlist =
          wish_products.length &&
          JSON.parse(localStorage.getItem("wish_details")).some(
            (data) => data.productid === wish_uniqueid && data.userid === user_id
      );
      if (already_wishlist) {
        alert("This product has already been added to your wishlist.");
      } else {
        alert("This product has been added to your wishlist.");
        wish_products.push({
          productid: products.unique_id,
          userid: user_id,
        });
        localStorage.setItem("wish_details", JSON.stringify(wish_products));
      }

        }
      
      });
    });
    </script>

</body>

</html>