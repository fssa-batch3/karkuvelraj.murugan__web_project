<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign-up page</title>
  <link rel="stylesheet" href="../../assets/css/style.css">
</head>

<body>


  <div class="nav-container">
    <div class="nav-links">
      <ul>
        <li><a href="../../index.html">Home</a></li>

        <div class="dropdown">
          <li><a href="../products/men.html">Men</a> </li>

          <div class="dropdown-content">
            <a href="#">SHIRT</a>
            <a href="#">T-SHIRT</a>
            <a href="#">PANT</a>

          </div>
        </div>
        <div class="dropdown">
          <li><a href="../products/women.html">Women</a> </li>

          <div class="dropdown-content">
            <a href="#">Suti</a>
            <a href="#">Tops</a>
            <a href="#">Saree's</a>
            <a href="#">Night Dress</a>

          </div>
        </div>
        <div class="dropdown">
          <li><a href="../products/kid.html">Kids</a> </li>

          <div class="dropdown-content">
            <a href="#">Dress</a>
            <a href="#">Toys</a>
            <a href="#">Modern dresses</a>
          </div>
        </div>

        <li><a href="../homepage/about.html">About Us</a> </li>
        <li> <a href="../homepage/contact.html">Contact</a></li>
      </ul>

    </div>

  </div>
  <section class="signup-container">
    <div class="signup-content">
      <h1>SIGNUP</h1>
      <p class="signup-para">Get access to your <br> orders wishlist and <br> recomandations</p>
      <img src="../../assets/images/signup.png" class="signup-image" width="190px" alt="">
    </div>
    <div class="signup-form">
      <h2>Registration</h2>
      <form class="form-control" role="form" onsubmit="signUp(event)">
        <div class="inputs">
          <input required="true"  type="mail" id="name"
            placeholder="name">
          <input   type="mail" id="number"
            placeholder="phone-number">
          <input required="true" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" type="mail" id="email"
            placeholder="email">
          <input required="true" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" type="password" id="password"
            placeholder="Create password">
          <input required="true" type="password" id="confirm_password" placeholder="Confirm_Password">
        </div>
        <div class="otp">

          <div class="have-account">
            <p><button type="submit">sign-up</button> </p>
          </div>
          <p class="or-1">or</p>
          <div class="request-otp">
            <p> Request OTP</p>
          </div>
        </div>
    </div>
    </form>


  </section>
  <script>







    function signUp(e) {
      e.preventDefault();
      let user_name = document.getElementById("name").value,
      user_number = document.getElementById("number").value,
       user_email = document.getElementById("email").value,
        password = document.getElementById("password").value,
        confirm_password = document.getElementById("confirm_password").value,
        unique_id =crypto.randomUUID();


      function checkPassword() {
        if (password !== confirm_password) {
          alert("Re-enter the Password");
          confirm_password.value = reset();
        }
        else {
          alert("Password Matched");

        }
      }
      checkPassword();
      let user_list = JSON.parse(localStorage.getItem('user_list')) || [];
      let exist = user_list.length &&
        JSON.parse(localStorage.getItem('user_list')).some(data =>
          data.user_email.toLowerCase() == user_email.toLowerCase()
        );
      if (!exist) {
        user_list.push({
          user_name,
          user_number,
          user_email,
          password, 
          confirm_password,
          unique_id
        });
        localStorage.setItem('user_list', JSON.stringify(user_list));
        console.log(localStorage.getItem('user_list'));
        document.querySelector('form').reset();
        document.getElementById('user_email');
         document.getElementById('user_number');
         document.getElementById('user_name');
        alert('Account created Successfully');
        location.href = "../homepage/login.html";

      }
      else {
        alert('Sorry the User already Exist!! \n Try with different Phone number or email');
        document.querySelector('form').reset();
      }
    }





















    // function register(e) {
    //             e.preventDefault();
    //             let password = document.getElementById("password").value;
    //             let c_password = document.getElementById("c_password").value;
    //             if (password !== c_password) {
    //                 alert("Passwords do not match");
    //                 return;
    //             }
    //             let user_detail = {
    //                 name: document.getElementById("name").value,
    //                 email: document.getElementById("email").value,
    //                 phone: document.getElementById("phone").value,
    //                 password: password,
    //             };
    //             let stored_data = JSON.parse(localStorage.getItem("user_data")) || [];
    //             let emailExist = false;
    //             for (let i = 0; i < stored_data.length; i++) {
    //                 if (user_detail.email === stored_data[i].email) {
    //                     emailExist = true;
    //                     break;
    //                 }
    //             }
    //             if (emailExist) {
    //                 alert('This email is already registered');
    //                 return;
    //             }
    //             stored_data.push(user_detail);
    //             localStorage.setItem("user_data", JSON.stringify(stored_data));
    //             window.location.href ="../Signin/index.html";
    //         }









    // function signUp(e) {
    //   e.preventDefault();
    //   let usremail = document.getElementById('email').value;
    //   let usrPassword = document.getElementById('password').value;
    //   let confirmpass = document.getElementById('pass').value;


    //   if (usrPassword != confirmpass) {
    //     alert('Password not Matched');
    //     confirmpass.value = reset();
    //   } else {
    //     alert('Your account has been created');
    //     location.href = "../homepage/login.html";
    //   }



    //   console.log(usremail);
    //   console.log(usrPassword);
    //   console.log(confirmpass);
    //   const email1 = localStorage.setItem('usrname', usremail);
    //   const usrpassword1 = localStorage.setItem('usrpw', usrPassword);
    //   const confirmpass1 = localStorage.setItem('usrcpw', confirmpass);
    //   let stored_users = JSON.parse(localStorage.getItem('users'));


    //   let exist = stored_users.length &&
    //     JSON.parse(localStorage.getItem('users')).some(data =>
    //       data.usremail.toLowerCase() == usremail.toLowerCase()
    //     );
    //   if (!exist) {
    //     stored_users.push({ name: usremail, phonenumber: usrPassword, password: confirmpass });
    //     localStorage.setItem('users', JSON.stringify(stored_users));
    //   }
    //   else{
    //     alert("users already exist")
    //   }
    // }

















  </script>



</body>

</html>