<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../assets/css/cart.css">
  <title>Cart Page</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <div class="nav-container">
    <div class="nav-links">
      <ul>
        <li><a href="../../index.html">Home</a></li>

        <div class="dropdown">
          <li><a href="../product categories/men.html">Men</a> </li>

          <div class="dropdown-content">
            <a href="#">SHIRT</a>
            <a href="#">T-SHIRT</a>
            <a href="#">PANT</a>

          </div>
        </div>
        <div class="dropdown">
          <li><a href="../product categories/women.html">Women</a> </li>

          <div class="dropdown-content">
            <a href="#">Suti</a>
            <a href="#">Tops</a>
            <a href="#">Saree's</a>
            <a href="#">Night Dress</a>

          </div>
        </div>
        <div class="dropdown">
          <li><a href="../product categories/kids.html">Kids</a> </li>

          <div class="dropdown-content">
            <a href="#">Dress</a>
            <a href="#">Toys</a>
            <a href="#">Modern dresses</a>
          </div>
        </div>

        <li><a href="../homepage/about.html">About Us</a> </li>
        <li> <a href="../homepage/contact.html">Contact</a></li>
      </ul>

    </div>

  </div>
  <!-- <div class="heading">
        <input type="checkbox" name="" id="">
    <span> 3/3 Items Selected</span>
    <SPAN>Remove|</span> <span>Move To Wishlist</span>
    </div> -->

  <section id="container"class="cart-container">

    

    <div class="cart-rightcol">
      <div class="price-container">
        <div class="price-details">
          <p class="price">Price Details</p>
          <p>Discount <span class="rate">300</span></p>
          <p class="gape">Price(3items)<span class="rate">1,200</span></p>
          <p>Delivery Charges<span class="rate">FREE</span></p>
          <p class="total">Total Amount <span class="rate">900</span></p>
          <button class="order">Order Now</button>
        </div>


      </div>
    </div>


  </section>

  <script>

    let cart_products = JSON.parse(localStorage.getItem("cart"));

    let all_products = JSON.parse(localStorage.getItem("product_details"));

    let user_id = JSON.parse(localStorage.getItem("userId"));

    let check_pdt = cart_products.filter(e => e.userid === user_id);
    console.log(check_pdt)

    let all_product = all_products.filter(e => check_pdt.some(id=> e.unique_id===id.productid) );
    console.log(all_product)


    for (i = 0; i < all_product.length; i++) {

// create the parent container
const parent = document.createElement("div");
parent.classList.add("cart-leftcol");

// create the details container
const details = document.createElement("div");
details.classList.add("cart-details");
parent.appendChild(details);

// create the list container
const list = document.createElement("div");
list.classList.add("cart-list");
details.appendChild(list);

// create the image element
const img = document.createElement("img");
img.src = all_product[i]["image1"];
img.width = "150";
img.height = "185";
img.alt = all_product[i]["name"];
list.appendChild(img);

// create the content container
const content = document.createElement("div");
content.classList.add("cart-content");
details.appendChild(content);

// create the shirt name header
const name = document.createElement("h4");
name.classList.add("shirt-name");
name.innerText = all_product[i]["name"];
content.appendChild(name);

// create the size element
const size = document.createElement("div");
size.classList.add("size");
size.innerText = "Size : " + all_product[i]["size"];
content.appendChild(size);

// create the price and discount container
const c1 = document.createElement("div");
c1.classList.add("c1");
content.appendChild(c1);

// create the price element
const price = document.createElement("p");
price.classList.add("doller");
price.innerText = "₹" + all_product[i]["price"];
c1.appendChild(price);

// create the original price element
const originalPrice = document.createElement("span");
originalPrice.classList.add("del");
originalPrice.innerText = "₹300";
c1.appendChild(originalPrice);

// create the discount element
const discount = document.createElement("span");
discount.classList.add("discount");
discount.innerText = all_product[i]["discount"] +  "discount";
c1.appendChild(discount);

// create the buy now button
const buy = document.createElement("button");
buy.classList.add("buy");
buy.innerText = "BUY NOW";
c1.appendChild(buy);

const input = document.createElement('input');
input.setAttribute('type', 'number');
input.setAttribute('id', 'quantity');
input.setAttribute('min', '0');
input.setAttribute('max', '8');

buy.appendChild(input);

// create the close link
const close = document.createElement("a");
close.href = "";
close.classList.add("close");
c1.appendChild(close);

// create the close icon
const closeIcon = document.createElement("i");
closeIcon.classList.add("fa", "fa-close");
closeIcon.style.fontSize = "20px";
close.appendChild(closeIcon);





let cartcontainer = document.querySelector(".cart-container");
cartcontainer.append(parent);




    }



  </script>
</body>

</html>